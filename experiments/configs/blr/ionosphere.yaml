experiment:
  name: "blr-ionosphere"
  seeds: [0, 1, 2, 3, 4]

  target:
    type: "blr"
    params:
      dataset: "ionosphere"
      prior_std: 5.0

  shared:
    n_particles: 100
    n_iterations: 4000
    init:
      type: "gaussian"
      scale: 0.1

  checkpoints: [0, 10, 50, 100, 250, 500, 1000, 2000, 4000]

  metrics:
    - "sliced_wasserstein"
    - "mean_rmse"
    - "variance_ratio_ref"
    - "energy_distance"
    - "sinkhorn_iters"

  algorithms:
    # - label: "ETD-B"
    #   cost: "euclidean"
    #   coupling:
    #     type: "balanced"
    #     tolerance: 1e-5
    #   epsilon: [0.1, 0.05, 0.01]
    #   proposal:
    #     alpha: 0.1
    #     count: 25

    - label: ETD-B
      cost: euclidean
      coupling:
        type: "balanced"
        tolerance: 1e-3
      epsilon: 0.05
      proposal:
        count: 25
        alpha: 2.0
      update:
        damping: 0.5
      preconditioner:
        type: "cholesky"
        proposals: true
        cost: true
        source: positions
        ema: 0.8

    - label: ETD-B
      sublabel: MALA
      cost: euclidean
      coupling:
        type: "balanced"
        tolerance: 1e-5
      update: categorical
      epsilon: [0.005, 0.01, 0.05, 0.1]
      proposal:
        alpha: 0.1
        count: 25
      mutation:
        kernel: mala
        steps: 10
        stepsize: 0.1
        cholesky: true
      preconditioner:
        type: cholesky
        proposals: true
        cost: true
        source: particles
        shrinkage: 0.1

    # - label: ETD-B-Linf
    #   cost: linf
    #   coupling:
    #     type: "balanced"
    #     tolerance: [1e-4, 1e-3, 1e-2]
    #   epsilon: [0.01, 0.05, 0.1, 0.5]
    #   proposal:
    #     alpha: [0.1, 0.5, 1.0, 2.0]
    #     count: 25
    #   update:
    #     damping: 0.5
    #   preconditioner:
    #     type: "cholesky"
    #     proposals: true
    #     cost: true
    #     source: positions
    #     ema: 0.8

    # - label: "ETD-B-IMQ"
    #   cost:
    #     type: "imq"
    #     c: 1.0
    #   coupling: "balanced"
    #   epsilon: 0.1
    #   proposal:
    #     alpha: 0.01
    #     count: 25

    - label: "SVGD"
      type: "baseline"
      method: "svgd"
      stepsize: 0.01
      clip_score: 5.0

    # - label: "ULA"
    #   type: "baseline"
    #   method: "ula"
    #   stepsize: 0.001
    #   clip_score: 5.0

    - label: "MALA"
      type: "baseline"
      method: "mala"
      stepsize: 0.005
      clip_score: 5.0
      preconditioner: "cholesky"
